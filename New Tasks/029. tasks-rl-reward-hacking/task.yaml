instruction: |-
  You are an AI Research Engineer working on a navigation robot.
  
  **The Goal:**
  Train a Q-Learning agent to navigate a 5x5 GridWorld from the Start (0,0) to the Goal (4,4) efficiently, avoiding the Trap at (2,2).
  
  **The Problem:**
  The training script (`/app/src/train.py`) executes without crashing, and the "Total Reward" seems to increase over time, which usually indicates learning. 
  However, when we deploy the agent, **it never reaches the goal**. It just moves back and forth endlessly until its battery dies (max steps reached).
  
  **Your Mission:**
  1.  **Analyze** the behavior. Run `python3 /app/src/train.py`. Watch the training logs.
  2.  **Diagnose** the flaw in the logic. Why is the agent incentivized to stay in the grid rather than finish the task?
  3.  **Fix** the `calculate_reward` logic in `/app/src/train.py`. The agent should be penalized for wasting time, or at least not rewarded for existing.
  4.  **Validate:** Retrain the agent with your fix. The script produces a file `/app/output/q_table.npy`.
  5.  **Success Criteria:** The provided test suite will load your `q_table.npy` and run an evaluation episode. The agent must reach the goal in **under 15 steps**.

  **Constraints:**
  - Do not change the dimensions of the grid or the location of the goal.
  - You must stick to the Q-Learning algorithm provided.

author_name: Pilotcrew AI
author_email: admin@pilotcrew.ai
difficulty: hard
category: reinforcement-learning
tags:
  - reinforcement-learning
  - q-learning
  - numpy
  - debugging
  - ai-safety
parser_name: pytest
max_agent_timeout_sec: 600.0
max_test_timeout_sec: 60.0
run_tests_in_same_shell: false
expert_time_estimate_min: 20
junior_time_estimate_min: 60